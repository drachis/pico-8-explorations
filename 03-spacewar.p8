pico-8 cartridge // http://www.pico-8.com
version 42
__lua__



function _init()
    make_player()
    make_enemies(4)
end

function _update()
    move_player()
end

function _draw()
    cls(2)
    draw_player()
    draw_enemies()
end

function make_enemies(number)
    enemy_sprites = {2,3,4}
    x = 0 
    y = 0

    enemies = {}
    for i=1,number,1 do
        if (x>128) 
            y+=16
            x=0
        enemies[#enemies+1]= {["sprite"]=rnd(enemy_sprites), ["x"]=x, ["y"]=y, ["direction"] = "xplus" }
        x += 16
    end
end

function move_enemies()
    foreach (enemies, move_enemy)
end

function move_enemy(enemy)
    movement = {
        ["xplus"] = 4,
        ["xminus"] = 4,
        ["yplus"] = 6,
    }
end

function draw_enemies()
    foreach(enemies, draw_enemy)
end

function draw_enemy(enemy)
    spr(enemy.sprite, enemy.x, enemy.y)
end

function make_player()
    px = 64
    py = 96
    psprite=1
end

function move_player()
    if (btn(0)) px -=1
    if (btn(1)) px += 1
    if (px > 120) px = 120
    if (px < 0) px = 0
end

function draw_player()
    spr(psprite, px,py)
end
__gfx__
000000000000000000999900000aa00000a00a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000cc00009a99a9000099000009009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000cc0000999999000999900a099990a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000cccc000a0990a00a9999a0900990090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccc0000aa000099aa990909aa9090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000c0000c0000aa000009aa900099aa9900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000a0000a0000000000009900009a99a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000009999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
66606660000066606660606066606660000066606060660000006660660066606660666066600660000060006060666000000000000000000000000000000000
60600060000060600600606060006060000060606060606000006000606060006660060060006000000060006060606000000000000000000000000000000000
60600660666066000600606066006600666066006060606066606600606066006060060066006660000060006060666000000000000000000000000000000000
60600060000060600600666060006060000060606060606000006000606060006060060060000060000060006060606000000000000000000000000000000000
66606660000060606660060066606060000060600660606000006660606066606060666066606600060066600660606000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006660660060606660066066606600666066606600666000006000606066600000000000000000
60600060000060600600606060006060000060606060606000006000606060600600606060606060666060006060060000006000606060600000000000000000
60600660666066000600606066006600666066006060606066606600606060600600606066006060606066006060060000006000606066600000000000000000
60600060000060600600666060006060000060606060606000006000606066600600606060606060606060006060060000006000606060600000000000000000
66606660000060606660060066606060000060600660606000006660606006006660660060606060606066606060060006006660066060600000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006660606066606000000066006660666006606660000060006060666000000000000000000000
60600060000060600600606060006060000060606060606000006000606060006000000060606000606060600600000060006060606000000000000000000000
60600660666066000600606066006600666066006060606066606600606066006000666060606600666060600600000060006060666000000000000000000000
60600060000060600600666060006060000060606060606000006000606060006000000060606000600060600600000060006060606000000000000000000000
66606660000060606660060066606060000060600660606000006000066066606660000066606660600066000600060066600660606000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006660600066606060666066600000600060606660000000000000000000000000000000000000
60600060000060600600606060006060000060606060606000006060600060606060600060600000600060606060000000000000000000000000000000000000
60600660666066000600606066006600666066006060606066606660600066606660660066000000600060606660000000000000000000000000000000000000
60600060000060600600666060006060000060606060606000006000600060600060600060600000600060606060000000000000000000000000000000000000
66606660000060606660060066606060000060600660606000006000666060606660666060600600666006606060000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006060666000006000606066600000000000000000000000000000000000000000000000000000
60600060000060600600606060006060000060606060606000006060060000006000606060600000000000000000000000000000000000000000000000000000
60600660666066000600606066006600666066006060606066606060060000006000606066600000000000000000000000000000000000000000000000000000
60600060000060600600666060006060000060606060606000006060060000006000606060600000000000000000000000000000000000000000000000000000
66606660000060606660060066606060000060600660606000000660666006006660066060600000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006060666066606000666066606060000060006060666000000000000000000000000000000000
60600060000060600600606060006060000060606060606000006060060006006000060006006060000060006060606000000000000000000000000000000000
60600660666066000600606066006600666066006060606066606060060006006000060006006660000060006060666000000000000000000000000000000000
60600060000060600600666060006060000060606060606000006060060006006000060006000060000060006060606000000000000000000000000000000000
66606660000060606660060066606060000060600660606000000660060066606660666006006660060066600660606000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006660666066000000000000000000000000000000000000000000000000000000000000000000
60600060000060600600606060006060000060606060606000006060060060600000000000000000000000000000000000000000000000000000000000000000
60600660666066000600606066006600666066006060606000006600060060600000000000000000000000000000000000000000000000000000000000000000
60600060000060600600666060006060000060606060606000006060060060600000000000000000000000000000000000000000000000000000000000000000
66606660000060606660060066606060000060600660606006006660666060600000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066606660606066606660000066606060660000006660666000000000000000000000000000000000000000000000000000000000000000000000
60600060000060600600606060006060000060606060606000006060606000000000000000000000000000000000000000000000000000000000000000000000
60600660666066000600606066006600666066006060606000006660666000000000000000000000000000000000000000000000000000000000000000000000
60600060000060600600666060006060000060606060606000006000606000000000000000000000000000000000000000000000000000000000000000000000
66606660000060606660060066606060000060600660606006006000666000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660000006606660666006606660606066606660000066606660000000000000000000000000000000000000000000000000000000000000000000000000
60600060000060006060606060006000606060606060000060606060000000000000000000000000000000000000000000000000000000000000000000000000
60600660666066606660666060006600606066606600000066606660000000000000000000000000000000000000000000000000000000000000000000000000
60600060000000606000606060006000666060606060000060006060000000000000000000000000000000000000000000000000000000000000000000000000
66606660000066006000606006606660666060606060060060006660000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000700007707770770000007770777000000770777077700770777070707770777000007770777000000000000000000000000000000000000000000000
07000000700070707070707000007070007000007000707070707000700070707070707000007070707000000000000000000000000000000000000000000000
00700000700070707770707000007070077077707770777077707000770070707770770000007770777000000000000000000000000000000000000000000000
07000000700070707070707000007070007000000070700070707000700077707070707000007000707000000000000000000000000000000000000000000000
70000000777077007070777000007770777000007700700070700770777077707070707007007000777000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06600660606060006600000066000660666000006000066066606600000000000000000000000000000000000000000000000000000000000000000000000000
60006060606060006060000060606060060000006000606060606060000000000000000000000000000000000000000000000000000000000000000000000000
60006060606060006060000060606060060000006000606066606060000000000000000000000000000000000000000000000000000000000000000000000000
60006060606060006060000060606060060000006000606060606060000000000000000000000000000000000000000000000000000000000000000000000000
06606600066066606660000060606600060000006660660060606660000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000700007707770770000007770777000000770777077700770777070707770777000007770777000000000000000000000000000000000000000000000
07000000700070707070707000007070007000007000707070707000700070707070707000007070707000000000000000000000000000000000000000000000
00700000700070707770707000007070077077707770777077707000770070707770770000007770777000000000000000000000000000000000000000000000
07000000700070707070707000007070007000000070700070707000700077707070707000007000707000000000000000000000000000000000000000000000
70000000777077007070777000007770777000007700700070700770777077707070707007007000777000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60000660666066006660660000006660666000000660666066600660666060606660666000006660666000000600666066606660000006606060666066600660
60006060606060606000606000006060006000006000606060606000600060606060606000006060606000006000006060606060000060006060606060606000
60006060666060606600606000006060066066606660666066606000660060606660660000006660666000006000066066606060000060006660666066006660
60006060606060606000606000006060006000000060600060606000600066606060606000006000606000006000006060606060000060006060606060600060
66606600606066606660666000006660666000006600600060600660666066606060606006006000666000000600666066606660000006606060606060606600
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000777070707700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000707070707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000770070707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000707070707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000707007707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ee0e0e0ee00eee0eee0e0e00000eee0eee0eee00ee0eee00000e000eee0ee00eee00000ee00eee000000e00eee0eee0eee00000eee00e000000000000000000
e000e0e0e0e00e00e0e0e0e00000e000e0e0e0e0e0e0e0e00000e0000e00e0e0e00000000e0000e00000e0000e00e0e0e0e00000e0e000e00000000000000000
eee0eee0e0e00e00eee00e000000ee00ee00ee00e0e0ee000000e0000e00e0e0ee0000000e00eee00000e0000e00eee0ee000000e0e000e00000000000000000
00e000e0e0e00e00e0e0e0e00000e000e0e0e0e0e0e0e0e00000e0000e00e0e0e00000000e00e0000000e0000e00e0e0e0e00000e0e000e00000000000000000
ee00eee0e0e00e00e0e0e0e00000eee0e0e0e0e0ee00e0e00000eee0eee0e0e0eee00000eee0eee000000e000e00e0e0eee00000eee00e000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77707070770007707770777007707700000000007700777077707070070007000000000000000000000000000000000000000000000000000000000000000000
70007070707070000700070070707070000000007070707070707070700000700000000000000000000000000000000000000000000000000000000000000000
77007070707070000700070070707070000000007070770077707070700000700000000000000000000000000000000000000000000000000000000000000000
70007070707070000700070070707070000000007070707070707770700000700000000000000000000000000000000000000000000000000000000000000000
70000770707007707770070077007070000077707770707070707770070007000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606060660066606660606000006660666066600660666000006600666066606660000006000000660066606660606006000000000000000000000000000000
60006060606006006060606000006000606060606060606000006060600060606060000060000000606060606060606060000000000000000000000000000000
66606660606006006660060000006600660066006060660000006060660066606600000000000000606066006660606000000000000000000000000000000000
00600060606006006060606000006000606060606060606000006060600060606060000000000000606060606060666000000000000000000000000000000000
66006660606006006060606000006660606060606600606000006060666060606060000000006660666060606060666000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
eee0e0e0ee00eee0eee0eee0eee00000eee0eee0eee00ee0eee00000000000000000000000000000000000000000000000000000000000000000000000000000
e0e0e0e0e0e00e000e00eee0e0000000e000e0e0e0e0e0e0e0e00000000000000000000000000000000000000000000000000000000000000000000000000000
ee00e0e0e0e00e000e00e0e0ee000000ee00ee00ee00e0e0ee000000000000000000000000000000000000000000000000000000000000000000000000000000
e0e0e0e0e0e00e000e00e0e0e0000000e000e0e0e0e0e0e0e0e00000000000000000000000000000000000000000000000000000000000000000000000000000
e0e00ee0e0e00e00eee0e0e0eee00000eee0e0e0e0e0ee00e0e00000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660666066606660666066600000666006600000066066606000600000006660000006606660666066606600066000006060666060006060666000000000
60600600060060006660606006000000060060600000600060606000600000006060000060000600606006006060600000006060606060006060600000000000
66600600060066006060666006000000060060600000600066606000600000006660000066600600660006006060600000006060666060006060660000000000
60600600060060006060600006000000060060600000600060606000600000006060000000600600606006006060606000006660606060006060600000000000
60600600060066606060600006000000060066000000066060606660666000006060000066000600606066606060666000000600606066600660666000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

